<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Guide — Format JSON</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    />
    <style>
      :root {
        --bg: #f4f7fa;
        --card: #fff;
        --muted: #6b7280;
        --accent: #216ba5;
        --accent-2: #1d77b8;
        --radius: 12px;
        --maxw: 1100px;
      }
      * {
        box-sizing: border-box;
      }
      html,
      body {
        height: 100%;
        margin: 0;
        font-family: Inter, "Segoe UI", Roboto, system-ui, -apple-system,
          "Helvetica Neue", Arial;
      }
      body {
        background: linear-gradient(180deg, #f7fbff 0%, var(--bg) 100%);
        color: #222;
        padding: 28px;
        display: flex;
        justify-content: center;
      }
      .wrap {
        width: 100%;
        max-width: var(--maxw);
      }
      header {
        background: linear-gradient(
          90deg,
          rgba(33, 107, 165, 0.12),
          rgba(29, 119, 184, 0.06)
        );
        padding: 20px 24px;
        border-radius: calc(var(--radius) + 4px);
        margin-bottom: 18px;
        display: flex;
        gap: 18px;
        align-items: center;
        border: 1px solid rgba(13, 66, 104, 0.06);
      }
      .logo {
        width: 64px;
        height: 64px;
        border-radius: 12px;
        background: linear-gradient(135deg, var(--accent), var(--accent-2));
        color: #fff;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        font-size: 20px;
        box-shadow: 0 6px 18px rgba(33, 107, 165, 0.12);
      }
      h1 {
        margin: 0;
        font-size: 20px;
        color: #083b5a;
      }
      p.lead {
        margin: 2px 0 0 0;
        color: var(--muted);
        font-size: 13px;
      }
      .card {
        background: var(--card);
        padding: 22px;
        border-radius: var(--radius);
        box-shadow: 0 6px 20px rgba(20, 30, 40, 0.04);
        border: 1px solid rgba(16, 24, 32, 0.03);
      }
      main.card {
        padding: 26px;
      }
      h2 {
        color: #0f3e5f;
        margin-top: 0;
        font-size: 18px;
        border-bottom: 2px solid #e6edf4;
        padding-bottom: 5px;
        margin-bottom: 15px;
      }
      h3 {
        color: #123d57;
        margin-bottom: 8px;
        margin-top: 20px;
        font-size: 16px;
      }
      p,
      li {
        color: #233242;
        line-height: 1.6;
        font-size: 15px;
      }
      .muted {
        color: var(--muted);
        font-size: 13px;
      }
      ul,
      ol {
        margin-left: 18px;
        padding-left: 0;
      }
      table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 15px;
        margin-bottom: 15px;
        font-size: 14px;
      }
      th,
      td {
        padding: 10px;
        border: 1px solid #e6edf4;
        text-align: left;
        vertical-align: top;
      }
      th {
        background: #f2f7fb;
        color: #123d57;
        font-weight: 600;
      }
      pre {
        background: #f6fbff;
        padding: 15px;
        border-left: 4px solid var(--accent);
        border-radius: 8px;
        overflow: auto;
        font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono",
          monospace;
        font-size: 13px;
        color: #0b3b57;
        line-height: 1.5;
        margin-top: 15px;
        margin-bottom: 20px;
      }
      .tip-box {
        background: #e6f7ff;
        border: 1px solid #b3e0ff;
        padding: 15px;
        border-radius: 8px;
        margin-top: 20px;
      }
      .tip-box h4 {
        color: var(--accent);
        margin: 0 0 5px 0;
        font-size: 15px;
        display: flex;
        align-items: center;
      }
    </style>
  </head>
  <body>
    <div class="wrap">
      <header>
        <div class="logo"><i class="fas fa-cube"></i></div>
        <div>
          <h1>Guide du format JSON</h1>
          <p class="lead">
            Comprendre, manipuler et valider le format d'échange de données le
            plus utilisé pour les API modernes.
          </p>
        </div>
      </header>
      <main class="card">
        <h2>Introduction au JSON</h2>
        <p>
          JSON (JavaScript Object Notation) est un format d'échange de données
          léger, standard, conçu pour être facilement lisible par l'humain et
          interprétable par les machines. Bien qu'issu de JavaScript, il est
          indépendant de tout langage et est devenu le format dominant pour la
          communication entre serveurs et applications, notamment via les API
          REST.
        </p>
        <h2>1. Structure fondamentale de JSON</h2>
        <h3>A. L'Objet (Mapping)</h3>
        <ul>
          <li>Représente une collection non ordonnée de paires clé:valeur.</li>
          <li>Délimité par des accolades (<code>{ }</code>).</li>
          <li>
            La clé (nom du champ) doit être une chaîne de caractères (string)
            entre guillemets doubles.
          </li>
          <li>La valeur peut être n'importe quel type de donnée JSON.</li>
        </ul>
        <b>Exemple d'objet :</b>
        <pre>
{
  "referenceProduit": "XYZ-900",
  "estDisponible": true,
  "prixUSD": 12.99
}</pre
        >
        <h3>B. Le Tableau (Array)</h3>
        <ul>
          <li>Représente une liste ordonnée de valeurs.</li>
          <li>Délimité par des crochets (<code>[ ]</code>).</li>
          <li>Les éléments sont séparés par des virgules.</li>
          <li>
            Le tableau peut contenir des valeurs de types différents (y compris
            d'autres objets ou tableaux).
          </li>
        </ul>
        <b>Exemple de tableau :</b>
        <pre>
[
  "Test d'API",
  "Test fonctionnel",
  "Test de charge"
]</pre
        >
        <h2>2. Les types de données JSON</h2>
        <table>
          <thead>
            <tr>
              <th>Type</th>
              <th>Description</th>
              <th>Exemple</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>String (Chaîne)</td>
              <td>Séquence de caractères entre guillemets doubles.</td>
              <td>"rapport_v1.2"</td>
            </tr>
            <tr>
              <td>Number (Nombre)</td>
              <td>Entiers ou flottants (pas de distinction).</td>
              <td>150, 3.14159</td>
            </tr>
            <tr>
              <td>Boolean (Booléen)</td>
              <td>Vrai ou Faux (sans guillemets).</td>
              <td>true, false</td>
            </tr>
            <tr>
              <td>Null</td>
              <td>Représente l'absence de valeur.</td>
              <td>null</td>
            </tr>
            <tr>
              <td>Object (Objet)</td>
              <td>Collection de paires clé:valeur (voir 1.A).</td>
              <td>{ "clé": "valeur" }</td>
            </tr>
            <tr>
              <td>Array (Tableau)</td>
              <td>Liste ordonnée de valeurs (voir 1.B).</td>
              <td>[ 1, 2, 3 ]</td>
            </tr>
          </tbody>
        </table>
        <h3>Exemple avancé (objet imbriqué et tableau d'objets)</h3>
        <pre>
{
  "client": {
    "clientId": 789,
    "nom": "Durand",
    "adresse": "15 Rue de la Liberté"
  },
  "commandes": [
    {
      "commandeId": "C001",
      "montant": 45.50
    },
    {
      "commandeId": "C002",
      "montant": 120.00
    }
  ],
  "dateDerniereMiseAJour": "2025-11-23T10:00:00Z"
}</pre
        >
        <h2>3. JSON et l'automatisation des tests (API Testing)</h2>
        <h3>A. Construction du "Payload" (Requête)</h3>
        <ul>
          <li>
            Lors de l'envoi d'une requête POST ou PUT à une API REST (pour créer
            ou modifier une ressource), le corps de la requête (payload) est
            généralement un objet JSON.
          </li>
          <li>
            L'automatisation consiste à :
            <ul>
              <li>
                Créer dynamiquement l'objet JSON (ou le lire à partir d'un
                fichier).
              </li>
              <li>Le sérialiser (le convertir) en chaîne de caractères.</li>
              <li>L'envoyer au point de terminaison (endpoint) de l'API.</li>
            </ul>
          </li>
        </ul>
        <h3>B. Vérification de la réponse (Assertions)</h3>
        <ul>
          <li>
            Après avoir reçu une réponse de l'API (souvent sous la forme d'un
            objet JSON), le test doit valider :
            <ul>
              <li>Le statut HTTP (ex : 200 OK, 201 Created, 404 Not Found).</li>
              <li>
                La structure des données (tous les champs attendus sont
                présents).
              </li>
              <li>
                Les valeurs des champs (ex : Le clientId dans la réponse doit
                correspondre à celui envoyé dans la requête).
              </li>
            </ul>
          </li>
        </ul>
        <div class="tip-box">
          <h4>
            <i class="fas fa-search"></i>&nbsp;JSONPath (Interrogation et
            Extraction)
          </h4>
          <p>
            Le JSONPath permet de désigner un élément spécifique, un peu comme
            XPath le fait pour XML/HTML.
          </p>
          <table>
            <thead>
              <tr>
                <th>Requête JSONPath</th>
                <th>Description</th>
                <th>Valeur extraite (selon l'exemple avancé)</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>$.client.nom</code></td>
                <td>
                  Accède à la valeur de la clé <code>nom</code> dans l'objet
                  <code>client</code>.
                </td>
                <td>"Durand"</td>
              </tr>
              <tr>
                <td><code>$.commandes[0].montant</code></td>
                <td>
                  Accède à l'élément <code>montant</code> du premier objet du
                  tableau <code>commandes</code>.
                </td>
                <td>45.50</td>
              </tr>
              <tr>
                <td><code>$.commandes[*].commandeId</code></td>
                <td>
                  Récupère tous les <code>commandeId</code> de tous les objets
                  dans le tableau <code>commandes</code>.
                </td>
                <td>[ "C001", "C002" ]</td>
              </tr>
            </tbody>
          </table>
        </div>
        <h2>4. Avantages et inconvénients</h2>
        <table>
          <thead>
            <tr>
              <th>Caractéristique</th>
              <th>Avantage (+)</th>
              <th>Inconvénient (-)</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Lisibilité</td>
              <td>Structure simple et compacte, très facile à lire.</td>
              <td>Ne supporte pas les commentaires (officiellement).</td>
            </tr>
            <tr>
              <td>Vitesse</td>
              <td>
                Très léger et rapide à parser (analyser) par les systèmes.
              </td>
              <td>
                Moins rigide que XML (pas de support natif des schémas XSD).
              </td>
            </tr>
            <tr>
              <td>Adoption</td>
              <td>
                Supporté nativement par presque tous les langages de
                programmation.
              </td>
              <td>
                Moins adapté pour les données tabulaires massives que CSV.
              </td>
            </tr>
          </tbody>
        </table>
      </main>
    </div>
  </body>
</html>
