<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>XPath Guide de R√©f√©rence & Aide-m√©moire</title>
    <link rel="icon" type="image/png" href="images/xpath_icon.png" />

    <!-- Script de protection d'acc√®s - V√©rification de l'authentification -->
    <script>
      // V√©rifier imm√©diatement si l'utilisateur est authentifi√©
      (function () {
        const isAuthenticated = sessionStorage.getItem("isAuthenticated");
        if (isAuthenticated !== "true") {
          // Redirection imm√©diate vers la page de connexion
          window.location.href = "index.html";
        }
      })();
    </script>

    <style>
      /* ================================== */
      /* === STYLES G√âN√âRAUX & √âCRAN === */
      /* ================================== */

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.4;
        color: #212529;
        /* Fond d√©grad√© subtil pour la profondeur */
        background: linear-gradient(135deg, #c5d0db 0%, #dee2e6 100%);
        margin: 0;
        padding: 20px;
      }

      .container {
        max-width: 250mm;
        margin: 20px auto;
        background-color: transparent;
        padding: 10px;
        display: grid;
        grid-template-columns: repeat(2, 1fr); /* 2 colonnes sur √©cran */
        gap: 20px;
      }

      h1 {
        grid-column: 1 / -1;
        text-align: center;
        font-family: "Arial", sans-serif;
        color: #495057;
        border-bottom: 4px solid #adb5bd;
        padding-bottom: 12px;
        margin-bottom: 25px;
        font-size: 2.2em;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
      }

      /* Style des "cartes" (Effet 3D/Flottant) */
      .cheat-sheet-section {
        padding: 15px;
        border-radius: 12px;
        background-color: #e9ecef;
        border: 1px solid #dee2e6;
        margin-bottom: 15px;
        box-shadow: 0 8px 15px rgba(0, 0, 0, 0.15), 0 3px 6px rgba(0, 0, 0, 0.1);
        transition: transform 0.2s;
        page-break-inside: avoid;
        break-inside: avoid;
      }
      .cheat-sheet-section:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2),
          0 5px 10px rgba(0, 0, 0, 0.15);
      }

      /* √âtiquette de titre color√©e */
      h2 {
        font-size: 1.2em;
        color: #212529;
        margin-top: 0;
        margin-bottom: 10px;
        padding-left: 10px;
        border-left: 6px solid;
        font-weight: 700;
      }
      h3 {
        font-size: 1.05em;
        margin-top: 10px;
        margin-bottom: 5px;
        color: #495057;
      }

      /* CODES COULEURS POUR LES BLOCS DE SECTION (BORDURE DU TITRE) */
      .paths h2 {
        border-left-color: #007bff;
        color: #007bff;
      }
      .structure h2 {
        border-left-color: #dc3545;
        color: #dc3545;
      }
      .axes h2 {
        border-left-color: #6c757d;
        color: #6c757d;
      }
      .logic h2 {
        border-left-color: #28a745;
        color: #28a745;
      }
      .position h2 {
        border-left-color: #ffc107;
        color: #856404;
      }
      .wildcards h2 {
        border-left-color: #17a2b8;
        color: #17a2b8;
      }
      .functions-section h2 {
        border-left-color: #6f42c1;
        color: #6f42c1;
      }

      /* Styles de Code INLINE */
      code {
        font-family: "Consolas", "Monaco", monospace;
        background-color: #f1f1f1;
        color: #c82333; /* Rouge sombre pour les commandes inline */
        padding: 2px 4px;
        border-radius: 4px;
        font-size: 0.85em;
        display: inline-block;
        overflow-wrap: break-word;
      }

      /* Styles de Code BLOCK (Couleurs harmonis√©es) */
      .code-block {
        display: block;
        padding: 8px;
        margin: 8px 0;
        border: 1px solid;
        white-space: pre-wrap;
        box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.05);
        font-family: "Consolas", "Monaco", monospace;
        font-size: 0.85em;
        text-align: left !important; /* Force l'alignement √† gauche pour tous les blocs de code */
        width: 100%;
        margin-left: 0 !important;
        box-sizing: border-box;
      }

      /* Afficher le contenu depuis un attribut pour √©viter les espaces ajout√©s par les formatteurs */
      .code-block[data-code]::before {
        content: attr(data-code);
        white-space: pre-wrap; /* Conserver sauts de ligne du contenu si n√©cessaire */
      }

      /* COULEURS DES BLOCS DE CODE (Harmonisation avec la section) */
      .paths .code-block {
        background-color: #e6f0ff;
        color: #0056b3;
        border-color: #b8daff;
      }
      .structure .code-block {
        background-color: #f8d7da;
        color: #721c24;
        border-color: #f5c6cb;
      }
      .axes .code-block {
        background-color: #e2e3e5;
        color: #495057;
        border-color: #d6d8db;
      }
      .logic .code-block {
        background-color: #d4edda;
        color: #155724;
        border-color: #c3e6cb;
      }
      .position .code-block {
        background-color: #fff3cd;
        color: #856404;
        border-color: #ffeeba;
      }
      .wildcards .code-block {
        background-color: #d1ecf1;
        color: #0c5460;
        border-color: #bee5eb;
      }
      .functions-section .code-block {
        background-color: #e9d9f5;
        color: #49287d;
        border-color: #d6c1eb;
      }

      p {
        margin: 5px 0 10px 0;
        font-size: 0.95em;
      }
      ul {
        list-style-type: none;
        padding-left: 0;
        margin: 0 0 10px 0;
      }
      li {
        margin-bottom: 5px;
      }

      table {
        width: 100%;
        border-collapse: separate;
        border-spacing: 0;
        font-size: 0.85em;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      }
      table th,
      table td {
        border-bottom: 1px solid #dee2e6;
        padding: 7px 10px;
        text-align: left;
        vertical-align: top;
      }

      /* TABLE HEADER DEFAULT STYLE (pour les blocs 3 et 4) */
      table th {
        background-color: #e9ecef;
        color: #495057;
        font-weight: 600;
      }

      /* NOUVEAU STYLE : TABLE HEADERS COORDONN√âS (pour les blocs 6, 7 et 8) */
      /* Bloc 6 (Position) */
      .position table th {
        background-color: #ffc107; /* Jaune Vif */
        color: #343a40; /* Texte Sombre */
      }
      /* Bloc 7 (Wildcards) */
      .wildcards table th {
        background-color: #17a2b8; /* Cyan Vif */
        color: #ffffff; /* Texte Blanc */
      }
      /* Bloc 8 (Fonctions) */
      .functions-section table th {
        background-color: #6f42c1; /* Violet Vif */
        color: #ffffff; /* Texte Blanc */
      }

      .alert-danger {
        background-color: #fff3cd;
        color: #664d03;
        border: 1px solid #ffecb5;
        padding: 10px;
        border-radius: 8px;
        margin: 15px 0;
        font-weight: bold;
        font-size: 0.9em;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
      }

      /* Styles du Footer */
      footer {
        grid-column: 1 / -1;
        padding-top: 20px;
        text-align: center;
      }
      footer p {
        margin: 10px 0 0 0;
        font-size: 0.8em;
        color: #000000;
      }
      .download-link {
        text-align: center; /* Aligner √† droite sous le titre principal */
        margin-top: -5px; /* Monter l√©g√®rement sous le titre */
        margin-bottom: 20px;
      }

      .download-link a {
        display: inline-block;
        padding: 5px 10px;
        background-color: #3e8e41; /* Vert */
        color: white;
        text-decoration: none;
        border-radius: 5px;
        font-weight: bold;
        font-size: 0.9em;
      }

      /* ================================== */
      /* === NOUVEAUX STYLES D'IMPRESSION (A4) === */
      /* ================================== */

      @media print {
        @page {
          size: A4 portrait;
          margin: 10mm; /* Augment√© l√©g√®rement pour la lisibilit√© */
        }
        .download-link {
          display: none; /* Cachez le lien en mode impression */
        }
        .home-link {
          display: none; /* Masque le lien d'accueil lors de l'impression */
        }
        body {
          line-height: 1.2;
          font-size: 10pt; /* Augment√© √† 10pt pour meilleure lisibilit√© */
          padding: 0;
          margin: 0;
          background: #fff;
          /* Force l'impression des couleurs de fond (important pour les TH et blocs de code) */
          -webkit-print-color-adjust: exact !important;
          print-color-adjust: exact !important;
        }

        .container {
          width: 100%;
          max-width: none;
          margin: 0;
          padding: 0;
          /* RETOUR √Ä LA GRILLE 2 COLONNES (PLUS STABLE) */
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: 8mm; /* √âcart r√©duit pour l'impression */
          box-shadow: none;
        }

        h1 {
          grid-column: 1 / -1;
          margin-bottom: 5mm;
          font-size: 1.6em;
          color: #000;
          border-bottom-color: #000;
        }

        .cheat-sheet-section {
          box-shadow: none;
          border: 1px solid #ccc;
          background-color: #f7f7f7;
          padding: 6px; /* R√©duit le padding */
          margin-bottom: 5px; /* R√©duit la marge */
          break-inside: avoid; /* Maintenu pour √©viter la coupure du bloc */
          page-break-inside: avoid; /* Assure la compatibilit√© */
          transform: none;
          border-radius: 3px; /* R√©duit l'arrondi */
        }

        /* R√©duction de la taille de la police dans les √©l√©ments internes pour gagner de la place */
        p,
        ul,
        li {
          font-size: 0.9em;
          margin: 3px 0;
        }
        h2 {
          margin-bottom: 5px;
          font-size: 1.1em;
        }

        .code-block {
          font-size: 0.75em;
          padding: 3px;
          margin: 3px 0;
          box-shadow: none;
          /* Assure que le code soit noir sur fond color√© (gr√¢ce √† print-color-adjust: exact) */
          text-align: left !important; /* Assure l'alignement √† gauche aussi √† l'impression (Chrome) */
          width: 100%;
          margin-left: 0 !important;
          box-sizing: border-box;
        }

        table {
          font-size: 0.8em;
        }
        table th,
        table td {
          padding: 4px 6px;
        }

        /* NOUVELLE R√àGLE : Assure que les en-t√™tes de table color√©s restent visibles et nets */
        .cheat-sheet-section table th {
          color: #fff !important; /* Texte blanc sur fond de couleur vive */
        }

        /* Ajuste le footer pour s'√©tendre sur toute la largeur */
        footer {
          grid-column: 1 / -1;
          margin-top: 5mm;
          border-top: 1px solid #ccc;
          padding-top: 3px;
        }
      }
      /* ================================== */
      /* === STYLES DU LIEN ACCUEIL === */
      /* ================================== */

      .home-link {
        /* Positionnement */
        position: fixed; /* Reste visible m√™me en d√©filement */
        top: 20px;
        left: 20px;
        z-index: 1000; /* Assure qu'il est au-dessus des autres √©l√©ments */

        /* Style du texte */
        font-size: 0.95em;
        font-weight: 600;
        text-decoration: none;
        color: #495057; /* Couleur de texte neutre */

        /* Style du bouton/lien */
        padding: 8px 15px;
        border-radius: 20px; /* Bords arrondis pour l'effet soign√© */
        background-color: #f8f9fa; /* Fond tr√®s clair */
        border: 1px solid #dee2e6;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);

        /* Transitions pour le c√¥t√© soign√© */
        transition: all 0.2s ease-in-out;
      }

      .home-link:hover {
        background-color: #e9ecef; /* Changement subtil au survol */
        color: #007bff; /* Met l'accent sur la couleur primaire au survol */
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15); /* Ombre plus marqu√©e */
        transform: translateY(-1px); /* Effet l√©ger de "lev√©e" */
      }

      /* Option pour les petits √©crans (discr√©tion) */
      @media screen and (max-width: 768px) {
        .home-link {
          font-size: 0.85em;
          padding: 5px 10px;
          top: 10px;
          left: 10px;
        }
      }
    </style>
  </head>
  <body>
    <a href="menu.html" class="home-link" title="Retour √† la page d'accueil">
      üè† Accueil
    </a>
    <h1>XPath : Guide de R√©f√©rence & Aide-m√©moire</h1>
    <p class="download-link">
      <a
        href="downloads/Aide-m√©moire-Xpath.pdf"
        download="Aide-m√©moire-Xpath.pdf"
        title="T√©l√©charger le document en format PDF (pour impression)"
      >
        ‚¨áÔ∏è T√©l√©charger l'Aide-m√©moire XPath (PDF, 2 pages)
      </a>
    </p>
    <div class="container">
      <div class="cheat-sheet-section paths">
        <h2>1. Chemins Absolus & Relatifs</h2>
        <p>
          Un chemin absolu part de la racine. Tr√®s pr√©cis, mais fragile en cas
          de modification du DOM.
        </p>
        <div
          class="code-block"
          data-code="/html/body/div[1]/span/div/div/section/p[2]"
          style="
            text-align: left !important;
            width: 100%;
            margin-left: 0 !important;
            box-sizing: border-box;
          "
        ></div>
        <p>Un chemin relatif (// ou .) commence n'importe o√π. Plus robuste.</p>
        <div class="code-block">//div[@class='menu']/a[@id='accueil']</div>
      </div>

      <div class="cheat-sheet-section paths">
        <h2>2. S√©parateurs et Chemin d'Acc√®s</h2>
        <ul>
          <li>
            / (Slash simple) : S√©pare un n≈ìud de son enfant direct. Au d√©but,
            d√©signe la racine.
            <div class="code-block">/html/body/div</div>
          </li>
          <li>
            // (Double Slash) : S√©pare un n≈ìud de n'importe lequel de ses
            descendants (n'importe o√π).
            <div class="code-block">//div[@class='card']//a</div>
          </li>
        </ul>
      </div>

      <div class="cheat-sheet-section structure">
        <h2>3. Structure Fondamentale</h2>
        <p>
          Une √©tape de localisation est compos√©e de 3 √©l√©ments :<br /><code
            >Axe::Test\_de\_N≈ìud[Pr√©dicat]</code
          >
        </p>
        <ul>
          <li>
            <strong>Axe</strong> : ‚û§ <code>child::</code> (par d√©faut),
            <code>parent::</code>, <code>attribute::</code>.
          </li>
          <li>
            <strong>Test de N≈ìud</strong> : ‚û§ <code>div</code>,
            <code>span</code>, <code>input</code>, <code>*</code> (tout
            √©l√©ment).
          </li>
          <li>
            <strong>Pr√©dicat</strong> : ‚û§ <code>[@class='menu']</code>,
            <code>[@id='valeur']</code>, <code>[1]</code>.
          </li>
        </ul>
        <p><strong>Exemple (Les 3 √©l√©ments) :</strong></p>
        <div class="code-block">parent::div[@class='menu']</div>
      </div>

      <div class="cheat-sheet-section axes">
        <h2>4. Utilisation d'index</h2>

        <h3>Position et Stabilit√©</h3>
        <ul>
          <li>Index de position ://li[3] ou //li[last()].</li>
          <li>Fonction position() ://li[position() > 5].</li>
        </ul>
        <div class="alert-danger">
          ‚ö†Ô∏è Danger de l'Index : L'utilisation d'index num√©riques (comme [1])
          est extr√™mement fragile. Si un √©l√©ment est ajout√© ou retir√©, le chemin
          casse. Privil√©giez les attributs et les fonctions texte pour la
          stabilit√©.
        </div>
      </div>

      <div class="cheat-sheet-section logic">
        <h2>5. Op√©rateurs & Pr√©dicats Avanc√©s</h2>
        <h3>Op√©rateurs Logiques</h3>
        <p>Utilis√©s dans les pr√©dicats pour combiner des conditions :</p>
        <ul>
          <li>
            AND : Les deux conditions doivent √™tre vraies.
            <div class="code-block">//input[@type='text' and @id='prenom']</div>
          </li>
          <li>
            OR : Au moins une condition doit √™tre vraie.
            <div
              class="code-block"
              data-code="//button[@name='Ajouter' or @name='Supprimer']"
              style="
                text-align: left !important;
                width: 100%;
                margin-left: 0 !important;
                box-sizing: border-box;
              "
            ></div>
          </li>
        </ul>
        <h3>Pr√©dicats Complexes</h3>
        <ul>
          <li>
            Pr√©dicat sur un descendant :
            <div class="code-block">//div[.//span[@class='active']]</div>
          </li>
          <li>
            Filtre bas√© sur l'enfant direct :
            <div class="code-block">//tr[./td[@class='type']]</div>
          </li>
          <li>
            Filtre bas√© sur un descendant avec op√©rateur logique :
            <div
              class="code-block"
              data-code="//div[.//a[@class='link' and text()='D√©tails']]"
              style="
                text-align: left !important;
                width: 100%;
                margin-left: 0 !important;
                box-sizing: border-box;
              "
            ></div>
          </li>
        </ul>
      </div>

      <div class="cheat-sheet-section axes">
        <h2>6. Axes de Navigation (Relations)</h2>
        <p>
          Les axes d√©finissent la direction de la navigation par rapport au n≈ìud
          courant. Ils sont fondamentaux pour localiser des √©l√©ments parents,
          fr√®res, ou descendants indirects.
        </p>
        <table>
          <thead>
            <tr>
              <th>Axe</th>
              <th>Abr.</th>
              <th>R√¥le</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>child::</td>
              <td>/</td>
              <td>N≈ìuds enfants directs.</td>
            </tr>
            <tr>
              <td>parent::</td>
              <td>..</td>
              <td>N≈ìud parent.</td>
            </tr>
            <tr>
              <td>self::</td>
              <td>.</td>
              <td>Le n≈ìud courant.</td>
            </tr>
            <tr>
              <td>attribute::</td>
              <td>@</td>
              <td>N≈ìuds attributs.</td>
            </tr>
            <tr>
              <td>descendant::</td>
              <td>//</td>
              <td>Tous les descendants.</td>
            </tr>
            <tr>
              <td>ancestor::</td>
              <td></td>
              <td>Tous les anc√™tres du n≈ìud courant.</td>
            </tr>
            <tr>
              <td>following-sibling::</td>
              <td></td>
              <td>Fr√®res/s≈ìurs qui apparaissent APR√àS le n≈ìud courant.</td>
            </tr>
            <tr>
              <td>preceding-sibling::</td>
              <td></td>
              <td>Fr√®res/s≈ìurs qui apparaissent AVANT le n≈ìud courant.</td>
            </tr>
            <tr>
              <td>following::</td>
              <td></td>
              <td>Tous les n≈ìuds suivants.</td>
            </tr>
            <tr>
              <td>preceding::</td>
              <td></td>
              <td>Tous les n≈ìuds pr√©c√©dents.</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="cheat-sheet-section wildcards">
        <h2>7. S√©lecteurs Sp√©ciaux & op√©rateurs</h2>
        <p>
          Utilisation de caract√®res g√©n√©riques (wildcards) pour trouver des
          √©l√©ments ou attributs avec souplesse.
        </p>
        <table>
          <thead>
            <tr>
              <th>S√©lecteur</th>
              <th>R√¥le</th>
              <th>Exemple</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>*</td>
              <td>S√©lectionne n'importe quel √©l√©ment.</td>
              <td><code class="code-block">//div/*/a</code></td>
            </tr>
            <tr>
              <td>@*</td>
              <td>S√©lectionne un √©l√©ment avec n'importe quel attribut.</td>
              <td><code class="code-block">//button[@*]</code></td>
            </tr>
            <tr>
              <td>//text()</td>
              <td>S√©lectionne uniquement le contenu textuel du n≈ìud.</td>
              <td><code class="code-block">//p[1]/text()</code></td>
            </tr>
          </tbody>
        </table>
        <h3>Op√©rateurs de Comparaison et Types de N≈ìuds</h3>
        <table>
          <thead>
            <tr>
              <th>Op√©rateur</th>
              <th>Signification</th>
              <th>Type de N≈ìud</th>
              <th>Explication</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>=</td>
              <td>√âgalit√©</td>
              <td>element</td>
              <td>S√©lectionne une balise HTML/XML (Ex: div).</td>
            </tr>
            <tr>
              <td>!=</td>
              <td>Non √âgalit√©</td>
              <td>attribute</td>
              <td>S√©lectionne un attribut (Ex: @id).</td>
            </tr>
            <tr>
              <td>&lt;, &gt;</td>
              <td>Inf√©rieur, Sup√©rieur</td>
              <td>text()</td>
              <td>S√©lectionne le contenu textuel.</td>
            </tr>
            <tr>
              <td>&lt;=, &gt;=</td>
              <td>Inf. ou √âg., Sup. ou √âg.</td>
              <td>comment()</td>
              <td>S√©lectionne un commentaire.</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="cheat-sheet-section functions-section">
        <h2>8. Fonctions Courantes (Texte)</h2>
        <table>
          <thead>
            <tr>
              <th>Fonction</th>
              <th>R√¥le</th>
              <th>Exemple</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>contains(s, sub)</td>
              <td>Vrai si s contient sub.</td>
              <td>
                <code class="code-block">//p[contains(text(), 'partiel')]</code>
              </td>
            </tr>
            <tr>
              <td>starts-with(s, sub)</td>
              <td>Vrai si s commence par sub.</td>
              <td>
                <code class="code-block"
                  >//input[starts-with(@id, 'utilisateur')]</code
                >
              </td>
            </tr>
            <tr>
              <td>normalize-space(s)</td>
              <td>Nettoie les espaces multiples et d√©but/fin.</td>
              <td>
                <code class="code-block"
                  >//div[normalize-space(text())='Texte']</code
                >
              </td>
            </tr>
            <tr>
              <td>concat(s1, s2, ...)</td>
              <td>Concat√®ne des cha√Ænes.</td>
              <td><code class="code-block">concat('Nom: ', @nom)</code></td>
            </tr>
            <tr>
              <td>substring(s, start, len)</td>
              <td>Extrait une sous-cha√Æne (position 1-bas√©e).</td>
              <td>
                <code class="code-block">substring('ABCD', 2, 2) ‚Üí 'BC'</code>
              </td>
            </tr>
            <tr>
              <td>substring-before(s, delim)</td>
              <td>Extrait avant le d√©limiteur.</td>
              <td>
                <code class="code-block"
                  >substring-before('nom@dom.com', '@')</code
                >
              </td>
            </tr>
            <tr>
              <td>substring-after(s, delim)</td>
              <td>Extrait apr√®s le d√©limiteur.</td>
              <td>
                <code class="code-block"
                  >substring-after('nom@dom.com', '@')</code
                >
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <footer>
      <p>
        &copy; Talel Zid | Version 1.4 ‚Äî Octobre 2025 | Bas√© sur XPath 2.0.
        <br />Pour usage personnel ou √©ducatif seulement.
      </p>
    </footer>
  </body>
</html>
